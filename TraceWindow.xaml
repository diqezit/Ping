<Window x:Class="PingTestTool.TraceWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="{DynamicResource TraceWindowTitle}"
        Width="800" Height="600"
        MinWidth="800" MinHeight="600"
        Background="{DynamicResource WindowBackground}"
        WindowStartupLocation="CenterScreen"
        ResizeMode="CanResizeWithGrip">
    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="Themes/CommonStyles.xaml"/>
                <ResourceDictionary Source="Themes/DarkTheme.xaml"/>
                <ResourceDictionary Source="Resources/StringResources.ru.xaml"/>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </Window.Resources>
    <DockPanel>
        <Menu DockPanel.Dock="Top" Background="{DynamicResource MenuBackground}">
            <MenuItem Header="{DynamicResource SettingsHeader}" Style="{StaticResource MenuItemStyle}">
                <MenuItem Header="{DynamicResource ThemeHeader}" Style="{StaticResource MenuItemStyle}">
                    <MenuItem Header="{DynamicResource DarkThemeHeader}" Click="DarkTheme_Click" Style="{StaticResource MenuItemStyle}"/>
                    <MenuItem Header="{DynamicResource LightThemeHeader}" Click="LightTheme_Click" Style="{StaticResource MenuItemStyle}"/>
                </MenuItem>
                <MenuItem Header="{DynamicResource LanguageHeader}" Style="{StaticResource MenuItemStyle}">
                    <MenuItem Header="Русский" Click="RussianLanguage_Click" Style="{StaticResource MenuItemStyle}"/>
                    <MenuItem Header="English" Click="EnglishLanguage_Click" Style="{StaticResource MenuItemStyle}"/>
                </MenuItem>
            </MenuItem>
        </Menu>

        <Grid>
            <Border Background="{DynamicResource HeaderBackground}" Height="60" VerticalAlignment="Top" CornerRadius="0,0,5,5">
                <Border.Effect>
                    <DropShadowEffect ShadowDepth="2" BlurRadius="5" Opacity="0.5" Color="{DynamicResource ShadowColor}"/>
                </Border.Effect>
                <TextBlock Text="{DynamicResource TraceRouteButton}" Style="{StaticResource HeaderTextBlockStyle}"
                           VerticalAlignment="Center" HorizontalAlignment="Center" Foreground="{DynamicResource HeaderForeground}"/>
            </Border>

            <Grid Margin="0,70,0,0">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <Border Grid.Row="0" Style="{StaticResource ContentBorderStyle}" Padding="10" Margin="10">
                    <TextBlock x:Name="StatusTextBlock" FontWeight="Bold" FontSize="16" Foreground="#FF5555"
                               HorizontalAlignment="Center"/>
                </Border>

                <DataGrid x:Name="ResultsList" Grid.Row="1" Margin="10" AutoGenerateColumns="False"
                          CanUserAddRows="False" CanUserDeleteRows="False" IsReadOnly="True"
                          Style="{StaticResource DataGridStyle}" ColumnHeaderStyle="{StaticResource DataGridColumnHeaderStyle}"
                          VirtualizingPanel.IsVirtualizing="True" VirtualizingPanel.VirtualizationMode="Recycling">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="Nr" Binding="{Binding Nr}" Width="40"/>
                        <DataGridTextColumn Header="{DynamicResource IPAddressColumnHeader}" Binding="{Binding IPAddress}" Width="130"/>
                        <DataGridTextColumn Header="{DynamicResource DomainNameColumnHeader}" Binding="{Binding DomainName}" Width="*"/>
                        <DataGridTextColumn Header="{DynamicResource LossColumnHeader}" Binding="{Binding Loss}" Width="60"/>
                        <DataGridTextColumn Header="{DynamicResource SentColumnHeader}" Binding="{Binding Sent}" Width="60"/>
                        <DataGridTextColumn Header="{DynamicResource ReceivedColumnHeader}" Binding="{Binding Received}" Width="60"/>
                        <DataGridTextColumn Header="{DynamicResource BestColumnHeader}" Binding="{Binding Best}" Width="60"/>
                        <DataGridTextColumn Header="{DynamicResource LastColumnHeader}" Binding="{Binding Last}" Width="60"/>
                        <DataGridTextColumn Header="{DynamicResource AverageColumnHeader}" Binding="{Binding Avrg}" Width="60"/>
                        <DataGridTextColumn Header="{DynamicResource WorstColumnHeader}" Binding="{Binding Wrst}" Width="60"/>
                    </DataGrid.Columns>
                </DataGrid>

                <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,10,0,20">
                    <Button x:Name="btnStartTrace" Content="{DynamicResource StartTraceButton}" Style="{StaticResource ButtonStyle}"
                            Click="BtnStartTrace_Click" Margin="5,0"/>
                    <Button x:Name="btnStopTrace" Content="{DynamicResource StopTraceButton}" Style="{StaticResource ButtonStyle}"
                            Click="BtnStopTrace_Click" IsEnabled="False" Margin="5,0"/>
                    <Button x:Name="btnClearResults" Content="{DynamicResource ClearResultsButton}" Style="{StaticResource ButtonStyle}"
                            Click="BtnClearResults_Click" Margin="5,0"/>
                    <Button x:Name="btnSaveResults" Content="{DynamicResource SaveResultsButton}" Style="{StaticResource ButtonStyle}"
                            Click="BtnSaveResults_Click" Margin="5,0"/>
                </StackPanel>
            </Grid>
        </Grid>
    </DockPanel>
</Window>